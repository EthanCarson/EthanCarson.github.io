<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Card Explorer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Smooth transitions for the slider track */
        #slider-track {
            display: flex;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Focus styles for accessibility */
        button:focus-visible, 
        input:focus-visible + div {
            outline: 2px solid #2563eb;
            outline-offset: 4px;
            border-radius: 9999px;
        }

        /* Custom toggle switch styling */
        .dot {
            transition: all 0.3s ease-in-out;
        }
        input:checked ~ .dot {
            transform: translateX(100%);
            background-color: #3b82f6;
        }

        /* Subtle shadow for arrows to ensure visibility on light backgrounds */
        .shadow-icon {
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }

        /* Enhanced custom scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f8fafc;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Masonry/Grid specific overrides */
        .grid-mode #slider-track {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            transform: none !important;
            padding: 2rem;
            height: auto;
        }

        .grid-mode .card-wrapper {
            width: 100% !important;
            height: auto !important;
            padding: 0 !important;
        }

        .grid-mode .card-container {
            max-height: none !important;
            height: auto !important;
            flex-direction: column !important;
        }

        .grid-mode .card-media {
            width: 100% !important;
            height: 200px !important;
        }

        .grid-mode .card-text {
            width: 100% !important;
            overflow-y: visible !important;
            padding: 1.5rem !important;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 font-sans h-screen flex flex-col overflow-hidden">

    <!-- Header / Title Area -->
    <header class="py-6 px-4 bg-white shadow-sm z-10">
        <div class="max-w-7xl mx-auto text-center">
            <h1 class="text-3xl font-bold text-gray-800">Card Explorer</h1>
            <p class="text-gray-500 text-sm mt-1">Navigate using arrows, dots, or your keyboard.</p>
        </div>
    </header>

    <!-- Main Content Area -->
    <main id="main-container" class="flex-grow relative flex items-center justify-center overflow-hidden">
        
        <!-- Navigation Arrows -->
        <div id="nav-arrows" class="absolute inset-y-0 left-0 right-0 pointer-events-none z-20 flex justify-between items-center px-4 sm:px-8">
            <button 
                id="prev-btn" 
                aria-label="Previous Slide" 
                class="text-white/70 hover:text-white transition-all transform hover:scale-125 active:scale-95 shadow-icon pointer-events-auto"
            >
                <i class="fas fa-chevron-left text-4xl"></i>
            </button>
            <button 
                id="next-btn" 
                aria-label="Next Slide" 
                class="text-white/70 hover:text-white transition-all transform hover:scale-125 active:scale-95 shadow-icon pointer-events-auto"
            >
                <i class="fas fa-chevron-right text-4xl"></i>
            </button>
        </div>

        <!-- Slider Track Container -->
        <div class="w-full h-full overflow-hidden" id="slider-container" role="region" aria-roledescription="carousel" aria-label="Feature Cards">
            <div id="slider-track" class="h-full">
                <!-- Cards injected here -->
            </div>
        </div>
    </main>

    <!-- Bottom Controls -->
    <footer class="bg-white border-t border-gray-200 py-6 px-4">
        <div class="max-w-4xl mx-auto flex flex-col md:flex-row items-center justify-between gap-6">
            
            <!-- Grid Layout Toggle -->
            <div class="flex items-center gap-3 order-2 md:order-1">
                <span id="layout-label" class="text-sm font-medium text-gray-600">Grid View</span>
                <label for="layout-toggle" class="flex items-center cursor-pointer relative">
                    <input type="checkbox" id="layout-toggle" class="sr-only" aria-labelledby="layout-label">
                    <div class="block bg-gray-200 w-12 h-7 rounded-full transition-colors border-2 border-transparent"></div>
                    <div class="dot absolute left-1 top-1 bg-white w-5 h-5 rounded-full shadow-sm transition-transform"></div>
                </label>
            </div>

            <!-- Navigation Dots -->
            <div id="dot-container" class="flex items-center space-x-3 order-1 md:order-2" aria-label="Carousel Pagination">
                <!-- Dots injected here -->
            </div>

            <!-- Auto-Advance Toggle -->
            <div id="auto-advance-controls" class="flex items-center gap-3 order-3">
                <span id="toggle-label" class="text-sm font-medium text-gray-600">Auto-advance</span>
                <label for="auto-toggle" class="flex items-center cursor-pointer relative">
                    <input type="checkbox" id="auto-toggle" class="sr-only" aria-labelledby="toggle-label">
                    <div class="block bg-gray-200 w-12 h-7 rounded-full transition-colors border-2 border-transparent"></div>
                    <div class="dot absolute left-1 top-1 bg-white w-5 h-5 rounded-full shadow-sm transition-transform"></div>
                </label>
            </div>
        </div>
    </footer>

    <script>
        const CARD_DATA = [
            {
                title: "Alpine Peaks",
                photographer: "Elena Sky",
                body: "Discover the breathtaking beauty of snow-capped mountains and pristine glaciers. A journey through the highest reaches of nature. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",
                image: "https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?auto=format&fit=crop&w=1200&q=80",
                alt: "Snow-capped mountain range under a clear blue sky"
            },
            {
                title: "Nature in Motion",
                photographer: "Motion Studios",
                body: "Experience the dynamic rhythms of the natural world. From flowing rivers to rustling leaves, this card features a cinematic look at the environment through video.",
                videoUrl: "https://www.youtube.com/embed/ScMzIvxBSi4", 
                alt: "Cinematic nature video placeholder"
            },
            {
                title: "Urban Architecture",
                photographer: "Marcus Vane",
                body: "Explore the intersection of glass, steel, and light in the heart of the modern metropolis. Where design meets functionality. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.",
                image: "https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?auto=format&fit=crop&w=1200&q=80",
                alt: "Modern skyscraper with reflective glass windows"
            },
            {
                title: "Coastal Serenity",
                photographer: "Sarah Marine",
                body: "Find peace where the turquoise waves meet golden sands. Perfect sunsets and the calming sound of the ocean breeze. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
                image: "https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=1200&q=80",
                alt: "Tropical beach with calm waves and white sand"
            },
            {
                title: "Deep Forest",
                photographer: "Julian Root",
                body: "Immerse yourself in the ancient wisdom of the woodlands. A sanctuary of green hues and hidden natural wonders. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium.",
                image: "https://images.unsplash.com/photo-1441974231531-c6227db76b6e?auto=format&fit=crop&w=1200&q=80",
                alt: "Lush green forest with sunlight filtering through leaves"
            }
        ];

        let currentIndex = 0;
        let autoAdvanceInterval = null;
        let isGridMode = false;
        const AUTO_ADVANCE_DELAY = 5000;

        const mainContainer = document.getElementById('main-container');
        const sliderContainer = document.getElementById('slider-container');
        const sliderTrack = document.getElementById('slider-track');
        const dotContainer = document.getElementById('dot-container');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const autoToggle = document.getElementById('auto-toggle');
        const layoutToggle = document.getElementById('layout-toggle');
        const navArrows = document.getElementById('nav-arrows');
        const autoControls = document.getElementById('auto-advance-controls');

        function init() {
            renderCards();
            renderDots();
            updateUI();
            setupEventListeners();
        }

        function renderCards() {
            sliderTrack.innerHTML = CARD_DATA.map((card, index) => {
                const mediaHtml = card.videoUrl 
                    ? `<iframe 
                        class="w-full h-full" 
                        src="${card.videoUrl}" 
                        title="${card.title} video" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowfullscreen></iframe>`
                    : `<img src="${card.image}" alt="${card.alt}" class="w-full h-full object-cover"/>`;

                return `
                <div class="card-wrapper w-full flex-shrink-0 h-full flex items-center justify-center p-4 md:p-8" 
                     role="group" 
                     aria-roledescription="slide" 
                     aria-label="Slide ${index + 1} of ${CARD_DATA.length}"
                     ${!isGridMode && index !== currentIndex ? 'aria-hidden="true"' : 'aria-hidden="false"'}>
                    <div class="card-container max-w-4xl w-full bg-white rounded-3xl shadow-xl overflow-hidden flex flex-col md:flex-row h-full max-h-[75vh]">
                        
                        <!-- Media Container -->
                        <div class="card-media w-full md:w-1/2 h-56 md:h-auto relative flex-shrink-0 bg-black">
                            ${mediaHtml}
                        </div>
                        
                        <!-- Text Content -->
                        <div class="card-text w-full md:w-1/2 p-8 md:p-12 md:pt-16 flex flex-col justify-start bg-white overflow-y-auto overflow-x-hidden custom-scrollbar relative">
                            <span class="text-blue-600 font-bold uppercase tracking-widest text-[10px] mb-2 flex-shrink-0">Feature ${index + 1}</span>
                            <h2 class="text-2xl md:text-3xl font-extrabold text-gray-900 mb-2 flex-shrink-0">${card.title}</h2>
                            
                            <p class="text-sm text-gray-500 font-semibold mb-6 flex items-center gap-2 flex-shrink-0">
                                <i class="fas fa-camera text-blue-500 text-xs"></i> 
                                <span>Source: <span class="text-gray-800">${card.photographer}</span></span>
                            </p>
                            
                            <p class="text-gray-600 text-base leading-relaxed pb-4">${card.body}</p>
                        </div>
                    </div>
                </div>
            `;}).join('');
        }

        function renderDots() {
            dotContainer.innerHTML = CARD_DATA.map((_, index) => `
                <button 
                    onclick="goToSlide(${index})" 
                    class="nav-dot w-3 h-3 rounded-full bg-gray-300 transition-all hover:bg-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2" 
                    aria-label="Go to slide ${index + 1}"
                    id="dot-${index}">
                </button>
            `).join('');
        }

        function updateUI() {
            if (isGridMode) {
                sliderContainer.classList.add('grid-mode', 'overflow-y-auto', 'custom-scrollbar');
                sliderContainer.classList.remove('overflow-hidden');
                navArrows.classList.add('hidden');
                dotContainer.classList.add('invisible');
                autoControls.classList.add('invisible');
                
                // Reset auto-advance if it was on
                if (autoToggle.checked) {
                    autoToggle.checked = false;
                    toggleAutoAdvance();
                }
            } else {
                sliderContainer.classList.remove('grid-mode', 'overflow-y-auto', 'custom-scrollbar');
                sliderContainer.classList.add('overflow-hidden');
                navArrows.classList.remove('hidden');
                dotContainer.classList.remove('invisible');
                autoControls.classList.remove('invisible');
                
                sliderTrack.style.transform = `translateX(-${currentIndex * 100}%)`;
                
                document.querySelectorAll('.nav-dot').forEach((dot, index) => {
                    if (index === currentIndex) {
                        dot.classList.add('bg-blue-600', 'w-8');
                        dot.classList.remove('bg-gray-300', 'w-3');
                    } else {
                        dot.classList.remove('bg-blue-600', 'w-8');
                        dot.classList.add('bg-gray-300', 'w-3');
                    }
                });
            }

            const slides = document.querySelectorAll('.card-wrapper');
            slides.forEach((slide, i) => {
                if (isGridMode) {
                    slide.setAttribute('aria-hidden', 'false');
                } else {
                    slide.setAttribute('aria-hidden', i !== currentIndex);
                    const contentArea = slide.querySelector('.overflow-y-auto');
                    if (contentArea) contentArea.scrollTop = 0;
                }
            });
        }

        function goToSlide(index) {
            if (isGridMode) return;
            currentIndex = index;
            if (currentIndex >= CARD_DATA.length) currentIndex = 0;
            if (currentIndex < 0) currentIndex = CARD_DATA.length - 1;
            updateUI();
        }

        function nextSlide() { goToSlide(currentIndex + 1); }
        function prevSlide() { goToSlide(currentIndex - 1); }

        function toggleAutoAdvance() {
            if (autoToggle.checked && !isGridMode) {
                autoAdvanceInterval = setInterval(nextSlide, AUTO_ADVANCE_DELAY);
                autoToggle.nextElementSibling.classList.replace('bg-gray-200', 'bg-blue-100');
            } else {
                clearInterval(autoAdvanceInterval);
                autoAdvanceInterval = null;
                autoToggle.nextElementSibling.classList.replace('bg-blue-100', 'bg-gray-200');
                autoToggle.checked = false;
            }
        }

        function toggleLayout() {
            isGridMode = layoutToggle.checked;
            if (isGridMode) {
                layoutToggle.nextElementSibling.classList.replace('bg-gray-200', 'bg-blue-100');
            } else {
                layoutToggle.nextElementSibling.classList.replace('bg-blue-100', 'bg-gray-200');
            }
            updateUI();
        }

        function setupEventListeners() {
            prevBtn.addEventListener('click', prevSlide);
            nextBtn.addEventListener('click', nextSlide);
            autoToggle.addEventListener('change', toggleAutoAdvance);
            layoutToggle.addEventListener('change', toggleLayout);

            document.addEventListener('keydown', (e) => {
                if (isGridMode) return;
                if (e.key === 'ArrowLeft') prevSlide();
                if (e.key === 'ArrowRight') nextSlide();
            });

            let touchStartX = 0;
            let touchEndX = 0;
            sliderTrack.addEventListener('touchstart', e => {
                if (isGridMode) return;
                touchStartX = e.changedTouches[0].screenX;
            }, { passive: true });
            
            sliderTrack.addEventListener('touchend', e => {
                if (isGridMode) return;
                touchEndX = e.changedTouches[0].screenX;
                if (touchEndX < touchStartX - 50) nextSlide();
                if (touchEndX > touchStartX + 50) prevSlide();
            }, { passive: true });
        }

        window.onload = init;
    </script>
</body>
</html>
</body>
</html>
